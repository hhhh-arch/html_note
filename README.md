# HTML Note Highlighter

一个功能强大的Chrome扩展，用于在网页上进行文本高亮和添加笔记，支持保存为本地HTML文件。

## ✨ 功能特性

- 🎯 **智能高亮**：选择任意文本进行高亮
- 📝 **笔记功能**：为高亮内容添加详细笔记
- 💾 **本地保存**：将高亮和笔记保存为HTML文件
- 🔄 **持久化**：保存的HTML文件重新打开时高亮和笔记依然存在
- ⌨️ **快捷键支持**：快速切换高亮模式和保存页面
- 📱 **响应式设计**：支持桌面和移动设备
- 🌙 **深色模式**：自动适配系统深色模式

## 🚀 安装方法

### 方法一：开发者模式安装（推荐）

1. 下载或克隆此项目到本地
2. 打开Chrome浏览器，进入 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目文件夹
6. 安装完成！

### 方法二：打包安装

1. 在 `chrome://extensions/` 页面点击"打包扩展程序"
2. 选择项目文件夹
3. 生成 `.crx` 文件后拖拽到扩展页面安装

## 📖 使用指南

### 基本操作

1. **开启高亮模式**
   - 点击浏览器工具栏中的插件图标
   - 点击"切换高亮模式"按钮
   - 或使用快捷键 `Ctrl+Shift+H`

2. **高亮文本**
   - 开启高亮模式后，选择网页上的任意文本
   - 文本会自动被高亮并弹出笔记编辑器

3. **添加笔记**
   - 点击高亮文本或在高亮时弹出的编辑器中
   - 输入你的笔记内容
   - 点击"保存"按钮

4. **保存页面**
   - 点击插件弹出界面中的"保存页面"按钮
   - 或使用快捷键 `Ctrl+Shift+S`
   - 页面将保存为包含所有高亮和笔记的HTML文件

### 高级功能

- **编辑笔记**：点击任何高亮文本可以重新编辑笔记
- **删除高亮**：在笔记编辑器中点击"删除高亮"按钮
- **清除所有**：在插件弹出界面中点击"清除所有高亮"
- **查看统计**：在网页右上角工具栏中点击"统计"按钮

## ⌨️ 快捷键

| 功能 | 快捷键 |
|------|--------|
| 切换高亮模式 | `Ctrl+Shift+H` |
| 保存页面 | `Ctrl+Shift+S` |

## 🎨 界面说明

### 工具栏
- 位于网页右上角的浮动工具栏
- 包含高亮模式、保存页面、统计等功能按钮

### 弹出界面
- 点击浏览器工具栏中的插件图标打开
- 显示当前状态、快速操作按钮和使用说明

### 笔记编辑器
- 点击高亮文本时弹出
- 支持多行文本输入
- 包含保存和删除功能

## 📁 文件结构

```
html_note/
├── manifest.json      # 插件配置文件
├── content.js         # 核心功能脚本
├── style.css          # 样式文件
├── popup.html         # 弹出界面
├── popup.js           # 弹出界面脚本
├── icon16.png         # 16x16 图标
├── icon48.png         # 48x48 图标
├── icon128.png        # 128x128 图标
└── README.md          # 说明文档
```

## 🔧 技术实现

### 核心技术
- **Chrome Extension Manifest V3**：使用最新的扩展API
- **Content Scripts**：注入到网页中实现高亮功能
- **DOM操作**：动态修改页面元素
- **Blob API**：生成可下载的HTML文件

### 数据存储
- 高亮和笔记直接嵌入在HTML的DOM结构中
- 使用 `data-*` 属性存储笔记内容
- 保存的HTML文件包含完整的高亮和笔记信息

### 兼容性
- 支持所有现代浏览器（基于Chrome内核）
- 响应式设计，适配不同屏幕尺寸
- 支持深色模式

## 🐛 故障排除

### 常见问题

1. **插件无法加载**
   - 检查Chrome版本是否支持Manifest V3
   - 确认所有文件都在正确位置

2. **高亮功能不工作**
   - 刷新页面后重试
   - 检查是否有其他扩展冲突

3. **保存失败**
   - 确认浏览器允许下载文件
   - 检查磁盘空间是否充足

4. **样式显示异常**
   - 清除浏览器缓存
   - 重新加载插件

### 调试方法

1. 打开开发者工具（F12）
2. 在Console中查看 `window.HTMLNoteHighlighter` 对象
3. 检查是否有JavaScript错误

## 🤝 贡献指南

欢迎提交Issue和Pull Request！

### 开发环境设置

1. 克隆项目
2. 在Chrome中加载扩展
3. 修改代码后刷新扩展即可看到效果

### 代码规范

- 使用ES6+语法
- 遵循Chrome扩展最佳实践
- 添加适当的注释和文档

## 📄 许可证

MIT License - 详见 [LICENSE](LICENSE) 文件

## 🙏 致谢

感谢所有为这个项目做出贡献的开发者！

---

**注意**：这是一个本地使用的Chrome扩展，不会上传到Chrome商店。所有数据都保存在本地，保护您的隐私。 